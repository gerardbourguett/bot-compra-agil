# ==========================================
# TELEGRAM BOT CONFIGURATION
# ==========================================
# Token del Bot de Telegram (obtén uno con @BotFather)
TELEGRAM_TOKEN=tu_token_aqui

# ==========================================
# AI CONFIGURATION
# ==========================================
# Proveedor de IA a usar: gemini, groq, cerebras, openai
# El sistema intentará usar este proveedor por defecto
AI_PROVIDER=gemini

# API Key de Gemini AI (para análisis inteligente de licitaciones)
# Obtén una en: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=tu_api_key_gemini_aqui
GEMINI_MODEL=gemini-2.0-flash-exp

# API Key de OpenAI (ChatGPT)
# Obtén una en: https://platform.openai.com/api-keys
# Modelos disponibles: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-3.5-turbo, o1-preview, o1-mini
OPENAI_API_KEY=tu_api_key_openai_aqui
OPENAI_MODEL=gpt-4o-mini

# API Key de Groq (inferencia rápida con Llama, Mixtral)
# Obtén una en: https://console.groq.com/keys
# Modelos disponibles: llama-3.3-70b-versatile, llama-3.1-8b-instant, mixtral-8x7b-32768
GROQ_API_KEY=tu_api_key_groq_aqui
GROQ_MODEL=llama-3.3-70b-versatile

# API Key de Cerebras (inferencia ultra-rápida)
# Obtén una en: https://cloud.cerebras.ai/
# Modelos disponibles: llama3.1-8b, llama3.1-70b
CEREBRAS_API_KEY=tu_api_key_cerebras_aqui
CEREBRAS_MODEL=llama3.1-8b

# Orden de fallback si un proveedor falla (separado por comas)
# AI_FALLBACK_CHAIN=gemini,openai,groq,cerebras

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
# URL de conexión a PostgreSQL
# Formato: postgresql://usuario:password@host:puerto/nombre_db
#
# DESARROLLO LOCAL (docker-compose.yml):
#   DATABASE_URL=postgresql://compra_agil_user:changeme123@postgres:5432/compra_agil
#
# COOLIFY:
#   El host es el ID del contenedor de PostgreSQL (visible en Coolify UI).
#   Ejemplo: DATABASE_URL=postgresql://postgres:PASSWORD@hkcso0gwgwc08gs48sc4sw84:5432/postgres
#   - Ir a Coolify → PostgreSQL → copiar "Postgres URL (internal)"
#
# SERVICIOS EXTERNOS (Railway, Supabase, Neon, etc.):
#   DATABASE_URL=postgresql://usuario:password@host-externo:5432/dbname
#
DATABASE_URL=postgresql://compra_agil_user:changeme123@postgres:5432/compra_agil

# Contraseña para PostgreSQL en Docker (solo para docker-compose.yml local)
POSTGRES_PASSWORD=changeme123

# Connection Pool Configuration (PostgreSQL only)
# Número mínimo de conexiones en el pool
DB_POOL_MIN_CONN=2
# Número máximo de conexiones en el pool
DB_POOL_MAX_CONN=10

# Query Logging Configuration
# Umbral en milisegundos para loguear queries lentas (default: 100ms)
SLOW_QUERY_THRESHOLD_MS=100
# Habilitar logging de todas las queries (solo para debug, default: false)
ENABLE_QUERY_LOGGING=false

# ==========================================
# DOCKER CONFIGURATION (Opcional)
# ==========================================
# Repositorio de imágenes Docker (para CI/CD)
IMAGE_REPO=gerardbourguett/bot-compra-agil

# ==========================================
# REDIS CACHE (Opcional pero recomendado)
# ==========================================
# URL de conexión a Redis para cache y rate limiting
# Formato: redis://[user:password@]host:port/db
#
# DESARROLLO LOCAL (sin auth):
#   REDIS_URL=redis://redis:6379/0
#
# COOLIFY (con auth):
#   Copiar "Redis URL (internal)" de Coolify UI.
#   Ejemplo: REDIS_URL=redis://default:PASSWORD@CONTAINER_ID:6379/0
#
# Si Redis no está disponible, el sistema usa rate limiters en memoria.
#
REDIS_URL=redis://redis:6379/0

# ==========================================
# API REST AUTHENTICATION
# ==========================================
# Secret para generar y validar API keys
# IMPORTANTE: Cambiar en producción por un valor aleatorio y seguro
# Generar con: python -c "import secrets; print(secrets.token_hex(32))"
API_SECRET_KEY=change-this-in-production-to-a-random-64-char-hex-string

# ==========================================
# API MERCADO PÚBLICO
# ==========================================
# API Key para consultar el servicio de Mercado Público
# Obtén una en: https://www.mercadopublico.cl/
MERCADO_PUBLICO_API_KEY=e93089e4-437c-4723-b343-4fa20045e3bc
